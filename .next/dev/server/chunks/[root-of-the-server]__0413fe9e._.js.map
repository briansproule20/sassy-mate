{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/briansproule/Coding%20Projects/sassy-mate/app/api/poll/goat/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\n// In-memory storage (would use DB in production)\nconst votes: number[] = [];\n\nexport async function GET() {\n  const average = votes.length > 0\n    ? votes.reduce((a, b) => a + b, 0) / votes.length\n    : 0;\n\n  return NextResponse.json({\n    success: true,\n    data: {\n      total_votes: votes.length,\n      average_score: average,\n    },\n  });\n}\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json();\n    const { score } = body;\n\n    if (typeof score !== \"number\" || score < 0 || score > 100) {\n      return NextResponse.json(\n        { success: false, error: \"Invalid score\" },\n        { status: 400 }\n      );\n    }\n\n    votes.push(score);\n\n    const average =\n      votes.reduce((a, b) => a + b, 0) / votes.length;\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        total_votes: votes.length,\n        average_score: average,\n      },\n    });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: \"Failed to record vote\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,iDAAiD;AACjD,MAAM,QAAkB,EAAE;AAEnB,eAAe;IACpB,MAAM,UAAU,MAAM,MAAM,GAAG,IAC3B,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG,KAAK,MAAM,MAAM,GAC/C;IAEJ,OAAO,iKAAY,CAAC,IAAI,CAAC;QACvB,SAAS;QACT,MAAM;YACJ,aAAa,MAAM,MAAM;YACzB,eAAe;QACjB;IACF;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,KAAK,EAAE,GAAG;QAElB,IAAI,OAAO,UAAU,YAAY,QAAQ,KAAK,QAAQ,KAAK;YACzD,OAAO,iKAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;YAAgB,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,IAAI,CAAC;QAEX,MAAM,UACJ,MAAM,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG,KAAK,MAAM,MAAM;QAEjD,OAAO,iKAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,aAAa,MAAM,MAAM;gBACzB,eAAe;YACjB;QACF;IACF,EAAE,OAAO,OAAO;QACd,OAAO,iKAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAAwB,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}