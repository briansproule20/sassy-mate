{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/briansproule/Coding%20Projects/sassy-mate/app/api/witnesses/reset/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport const revalidate = 0;\n\nexport async function POST() {\n  try {\n    const { Redis } = await import(\"@upstash/redis\");\n    \n    // Initialize Redis using environment variables\n    const redis = Redis.fromEnv();\n    \n    // Delete the leaderboard\n    await redis.del(\"leaderboard\");\n    \n    // Get all petition IDs\n    const petitionIds = await redis.lrange(\"petitions\", 0, -1);\n    \n    // Delete all petitions\n    for (const id of petitionIds) {\n      await redis.del(`petition:${id}`);\n    }\n    \n    // Clear petition list\n    await redis.del(\"petitions\");\n    \n    // Get all user keys and delete them\n    const userKeys = await redis.keys(\"user:*\");\n    for (const key of userKeys) {\n      await redis.del(key);\n    }\n\n    return NextResponse.json({\n      success: true,\n      message: \"All data reset successfully\",\n    });\n  } catch (error) {\n    console.error(\"Failed to reset data:\", error);\n    return NextResponse.json({\n      success: false,\n      error: \"Failed to reset data\",\n    }, { status: 500 });\n  }\n}\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,aAAa;AAEnB,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,GAAG;QAElB,+CAA+C;QAC/C,MAAM,QAAQ,MAAM,OAAO;QAE3B,yBAAyB;QACzB,MAAM,MAAM,GAAG,CAAC;QAEhB,uBAAuB;QACvB,MAAM,cAAc,MAAM,MAAM,MAAM,CAAC,aAAa,GAAG,CAAC;QAExD,uBAAuB;QACvB,KAAK,MAAM,MAAM,YAAa;YAC5B,MAAM,MAAM,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI;QAClC;QAEA,sBAAsB;QACtB,MAAM,MAAM,GAAG,CAAC;QAEhB,oCAAoC;QACpC,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC;QAClC,KAAK,MAAM,OAAO,SAAU;YAC1B,MAAM,MAAM,GAAG,CAAC;QAClB;QAEA,OAAO,iKAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,iKAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;QACT,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}